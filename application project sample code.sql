create table bank
(BANK_ID VARCHAR(20) NOT NULL PRIMARY KEY,
BANK_NAME VARCHAR(100) NOT NULL);
SELECT * FROM BANK;

INSERT INTO BANK VALUES('SBIB','SBI');
INSERT INTO BANK VALUES('HDFCB','HDFC');
INSERT INTO BANK VALUES('SIBB','SIB');
INSERT INTO BANK VALUES('ICICIB','ICICI');
INSERT INTO BANK VALUES('CB','CANARA');
INSERT INTO BANK VALUES('AXB','AXIS');
-------------------------------------------------------------
CREATE TABLE LOAN_TYPE
(LOAN_ID VARCHAR(20) NOT NULL PRIMARY KEY,
LOAN_NAME VARCHAR(50) NOT NULL);
SELECT * FROM LOAN_TYPE;

INSERT INTO LOAN_TYPE VALUES('C1','CAR');
INSERT INTO LOAN_TYPE VALUES('H1','HOME');
INSERT INTO LOAN_TYPE VALUES('S1','STUDY');
INSERT INTO LOAN_TYPE VALUES('P1','PERSONAL');
INSERT INTO LOAN_TYPE VALUES('B1','BUSINESS');
INSERT INTO LOAN_type values('pd1','payday');
INSERT INTO LOAN_type values('G1','GOLD');###ADD INTERST IN THE BANK
--------------------------------------------------
CREATE TABLE B_INTEREST
(BANK_ID VARCHAR(20) NOT NULL,
LOAN_ID VARCHAR(20) NOT NULL,
INTEREST FLOAT);
SELECT * FROM B_INTEREST;

INSERT INTO B_INTEREST VALUES ('SBIB','C1',8.75);
INSERT INTO B_INTEREST VALUES ('SBIB','P1',8);
INSERT INTO B_INTEREST VALUES ('SBIB','B1',19);
INSERT INTO B_INTEREST VALUES ('SBIB','H1',9);

INSERT INTO B_INTEREST VALUES ('HDFCB','H1',8.79);
INSERT INTO B_INTEREST VALUES ('HDFCB','S1',11);
INSERT INTO B_INTEREST VALUES ('HDFCB','Pd1',13);

INSERT INTO B_INTEREST VALUES ('SIBB','S1',12.3);
INSERT INTO B_INTEREST VALUES ('SIBB','C1',8.25);
INSERT INTO B_INTEREST VALUES ('SIBB','B1',20);

INSERT INTO B_INTEREST VALUES ('ICICIB','pd1',15);
INSERT INTO B_INTEREST VALUES ('ICICIB','H1',9.9);

INSERT INTO B_INTEREST VALUES ('CB','B1',22);
INSERT INTO B_INTEREST VALUES ('CB','C1',8);
INSERT INTO B_INTEREST VALUES ('CB','P1',7.5);
INSERT INTO B_INTEREST VALUES ('CB','S1',13);

INSERT INTO B_INTEREST VALUES ('AXB','B1',26);
INSERT INTO B_INTEREST VALUES ('AXB','pd1',16);
INSERT INTO B_INTEREST VALUES ('AXB','H1',10);
--------------------------------------------------
CREATE TABLE CIBIL_SCORE(
BANK_ID VARCHAR(20),
CIBIL VARCHAR(50));
SELECT * FROM CIBIL_SCORE;

INSERT INTO CIBIL_SCORE VALUES('SBIB','750-800');
INSERT INTO CIBIL_SCORE VALUES('HDFCB','600-700');
INSERT INTO CIBIL_SCORE VALUES('SIBB','750-800');
INSERT INTO CIBIL_SCORE VALUES('ICICIB','650-750');
INSERT INTO CIBIL_SCORE VALUES('CB','600-700');
INSERT INTO CIBIL_SCORE VALUES('AXB','650-750');
------------------------------------------
----------------------------------------
SELECT BANK.BANK_NAME,B_INTEREST.INTEREST
FROM B_INTEREST
INNER JOIN LOAN_TYPE
ON B_INTEREST.LOAN_ID = LOAN_TYPE.LOAN_ID 
INNER JOIN BANK
ON B_INTEREST.BANK_ID = BANK.BANK_ID
WHERE LOAN_TYPE.LOAN_ID ='C1';
-------------------------------------------
SELECT BANK.BANK_NAME,B_INTEREST.INTEREST,(:amount*(1+(B_interest.interest*:duration))) as payment,
(payment - :amount) as int_amount
FROM B_INTEREST
INNER JOIN LOAN_TYPE
ON B_INTEREST.LOAN_ID = LOAN_TYPE.LOAN_ID 
INNER JOIN BANK
ON B_INTEREST.BANK_ID = BANK.BANK_ID
WHERE LOAN_TYPE.LOAN_ID ='C1';
-------------------------------------------------
#final -:amount is used to insert the values in html.
SELECT BANK.BANK_NAME, B_INTEREST.INTEREST, (:amount*(1+(B_interest.interest*:duration))) as payment,
((:amount*(1+(B_interest.interest*:duration)))- :amount) as int_amount
FROM B_INTEREST
INNER JOIN LOAN_TYPE
ON B_INTEREST.LOAN_ID = LOAN_TYPE.LOAN_ID 
INNER JOIN BANK
ON B_INTEREST.BANK_ID = BANK.BANK_ID
WHERE LOAN_TYPE.LOAN_NAME ='CAR';
-------------------------------------------------------------------
SELECT BANK.BANK_NAME
FROM BANK
INNER JOIN CIBIL_SCORE
ON BANK.BANK_ID = CIBIL_SCORE.BANK_ID
WHERE CIBIL_SCORE.CIBIL='750-800';